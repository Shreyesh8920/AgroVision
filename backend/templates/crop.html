<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title data-key="page_title">Crop Recommendation</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet"/>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/crop.css') }}">
</head>
<body>
  <div class="page-wrapper">
    <main class="main-container">
      <!-- Header -->
      <header class="header">
        <span class="material-icons-outlined header-icon" aria-hidden="true">grass</span>
        <h1 class="header-title" data-key="crop_recommendation_title">Crop Recommendation</h1>
      </header>

      <!-- Main Form Card -->
      <div class="form-card">
        <h2 class="form-title" data-key="enter_parameters">Enter Soil &amp; Climate Parameters</h2>
        
        <form class="form-content" id="cropForm" novalidate>
          <div class="sections-grid">
            <!-- Soil Nutrients Section -->
            <section class="section-card section-card--green">
              <h3 class="section-header section-header--green">
                <span class="material-icons-outlined section-icon" aria-hidden="true">eco</span>
                <span data-key="soil_nutrients_npk">Soil Nutrients (NPK)</span>
              </h3>
              <div class="fields-container">
                <div class="field-group">
                  <label class="field-label" for="nitrogen" data-key="nitrogen_label">Nitrogen (N) kg/ha</label>
                  <input class="field-input" id="nitrogen" name="nitrogen" type="number" required min="0" max="140"/>
                  <span class="field-tooltip" data-key="nitrogen_tooltip">Typical range: 0–140 kg/ha</span>
                  <p class="field-error hidden" id="nitrogenError"></p>
                </div>
                <div class="field-group">
                  <label class="field-label" for="phosphorous" data-key="phosphorous_label">Phosphorous (P) kg/ha</label>
                  <input class="field-input" id="phosphorous" name="phosphorous" type="number" required min="5" max="145"/>
                  <span class="field-tooltip" data-key="phosphorous_tooltip">Typical range: 5–145 kg/ha</span>
                  <p class="field-error hidden" id="phosphorousError"></p>
                </div>
                <div class="field-group">
                  <label class="field-label" for="potassium" data-key="potassium_label">Potassium (K) kg/ha</label>
                  
                  <input class="field-input" id="potassium" name="potassium" type="number" required min="5" max="205"/>
                  <span class="field-tooltip" data-key="potassium_tooltip">Typical range: 5–205 kg/ha</span>
                  <p class="field-error hidden" id="potassiumError"></p>
                </div>
              </div>
            </section>

            <!-- Climate Conditions Section -->
            <section class="section-card section-card--blue">
              <h3 class="section-header section-header--blue">
                <span class="material-icons-outlined section-icon" aria-hidden="true">thermostat</span>
                <span data-key="climate_conditions">Climate Conditions</span>
              </h3>
              <div class="fields-container">
                <div class="field-group">
                  <label class="field-label" for="temperature" data-key="temperature_label">Temperature (°C)</label>
                  
                  <input class="field-input" id="temperature" name="temperature" type="number" required min="-10" max="50" step="0.1"/>
                  <span class="field-tooltip" data-key="temperature_tooltip">Typical range: -10–50°C</span>
                  <p class="field-error hidden" id="temperatureError"></p>
                </div>
                <div class="field-group">
                  <label class="field-label" for="humidity" data-key="humidity_label">Humidity (%)</label>
                  
                  <input class="field-input" id="humidity" name="humidity" type="number" required min="0" max="100" step="0.1"/>
                  <span class="field-tooltip" data-key="humidity_tooltip">Typical range: 0–100%</span>
                  <p class="field-error hidden" id="humidityError"></p>
                </div>
                <div class="field-group">
                  <label class="field-label" for="rainfall" data-key="rainfall_label">Rainfall (mm)</label>
                  
                  <input class="field-input" id="rainfall" name="rainfall" type="number" required min="0" max="4000" step="0.1"/>
                  <span class="field-tooltip" data-key="rainfall_tooltip">Typical range: 0–4000 mm</span>
                  <p class="field-error hidden" id="rainfallError"></p>
                </div>
              </div>
            </section>
          </div>

          <!-- Soil Chemistry Section -->
          <section class="section-card section-card--tan section-card--full">
            <h3 class="section-header section-header--amber">
              <span class="material-icons-outlined section-icon" aria-hidden="true">science</span>
              <span data-key="soil_chemistry">Soil Chemistry</span>
            </h3>
            <div class="field-group">
              <label class="field-label" for="ph" data-key="ph_label">pH Level</label>
              
              <input class="field-input field-input--half" id="ph" name="ph" type="number" required min="0" max="14" step="0.1"/>
              <span class="field-tooltip" data-key="ph_tooltip">Typical range: 0–14</span>
              <p class="field-error hidden" id="phError"></p>
            </div>
          </section>

          <!-- Submit Button -->
          <div class="submit-wrapper">
            <button class="submit-btn" type="submit" id="submitBtn">
              <span class="material-icons-outlined submit-btn-icon" aria-hidden="true">recommend</span>
              <span data-key="recommend_crop">Recommend Crop</span>
            </button>
          </div>

          <!-- Result -->
          <div id="spinner" class="spinner hidden"></div>
          <div id="crop-result" class="result"></div>
        </form>
      </div>
    </main>
  </div>
  <script src="{{ url_for('static', filename='js/lang.js') }}"></script>
  <script src="{{ url_for('static', filename='js/crop.js') }}"></script>
</body>
</html>
