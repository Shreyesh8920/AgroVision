<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-key="page_title">CropNutriWizard - Fertilizer Recommendation</title>
    
    <link rel="stylesheet" href="{{ url_for('static', filename='css/fertiliser.css') }}">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            500: '#4CAF50',
                            600: '#3e8e41'
                        },
                        npk: '#e8f5e9',
                        climate: '#e3f2fd',
                        chemistry: '#efebe9',
                        crop: '#f3e5f5'
                    }
                }
            }
        }
    </script>
</head>

<body class="bg-gray-100 min-h-screen">
<div class="container mx-auto px-4 py-8 max-w-6xl">

    <!-- Hero Banner -->
    <div class="hero-banner rounded-xl mb-8 overflow-hidden relative">
        <div class="absolute inset-0 bg-gradient-to-r from-primary-500 to-green-600 opacity-90"></div>
        <div class="relative z-10 py-16 px-6 text-center">
            <h1 class="text-4xl font-bold text-white mb-2" data-key="fertilizer_heading">
                Fertilizer Recommendation
            </h1>
            <p class="text-xl text-white opacity-90" data-key="fertilizer_subheading">
                Precision nutrition for your crops
            </p>
        </div>
    </div>

    <!-- Main Form -->
    <form id="fertiliserForm" class="bg-white rounded-xl shadow-lg p-6">

        <!-- Top Row Sections -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-6">

            <!-- Soil Nutrients (NPK) -->
            <div class="npk-card p-6 rounded-xl">
                <div class="flex items-center mb-4">
                    <i data-feather="droplet" class="mr-2 text-green-700"></i>
                    <h2 class="text-xl font-bold text-green-800" data-key="soil_nutrients">
                        Soil Nutrients (NPK)
                    </h2>
                </div>

                <div class="space-y-4">
                    <div>
                        <label for="nitrogen" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="nitrogen_label">Nitrogen (N) - kg/ha</label>
                        <input type="number" id="nitrogen" name="Nitrogen"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="0" max="500" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="nitrogen_typical_range">
                            Typical range: 0–500 kg/ha
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>

                    <div>
                        <label for="phosphorus" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="phosphorus_label">Phosphorus (P) - kg/ha</label>
                        <input type="number" id="phosphorus" name="Phosphorous"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="0" max="500" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="phosphorus_typical_range">
                            Typical range: 0–500 kg/ha
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>

                    <div>
                        <label for="potassium" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="potassium_label">Potassium (K) - kg/ha</label>
                        <input type="number" id="potassium" name="Potassium"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="0" max="500" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="potassium_typical_range">
                            Typical range: 0–500 kg/ha
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>
                </div>
            </div>

            <!-- Climate Conditions -->
            <div class="climate-card p-6 rounded-xl">
                <div class="flex items-center mb-4">
                    <i data-feather="cloud" class="mr-2 text-blue-700"></i>
                    <h2 class="text-xl font-bold text-blue-800" data-key="climate_conditions">
                        Climate Conditions
                    </h2>
                </div>

                <div class="space-y-4">
                    <div>
                        <label for="temperature" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="temperature_label">Temperature (°C)</label>
                        <input type="number" id="temperature" name="Temperature"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="-20" max="55" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="temperature_info">
                            Climate temperature
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>

                    <div>
                        <label for="humidity" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="humidity_label">Soil Moisture (%)</label>
                        <input type="number" id="humidity" name="Moisture"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="0" max="100" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="humidity_info">
                            Relative humidity percentage
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>

                    <div>
                        <label for="rainfall" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="rainfall_label">Rainfall (mm)</label>
                        <input type="number" id="rainfall" name="Rainfall"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="0" max="2000" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="rainfall_info">
                            Annual rainfall in millimeters
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>
                </div>
            </div>

            <!-- Soil Chemistry -->
            <div class="chemistry-card p-6 rounded-xl">
                <div class="flex items-center mb-4">
                    <i data-feather="bar-chart-2" class="mr-2 text-brown-700"></i>
                    <h2 class="text-xl font-bold text-brown-800" data-key="soil_chemistry">
                        Soil Chemistry
                    </h2>
                </div>

                <div class="space-y-4">
                    <div>
                        <label for="ph" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="ph_label">pH Level</label>
                        <input type="number" id="ph" name="PH"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="0" max="14" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="ph_info">
                            pH scale: 0–14, neutral = 7
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>

                    <div>
                        <label for="carbon" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="carbon_label">Carbon (%)</label>
                        <input type="number" id="carbon" name="Carbon"
                               class="w-full px-3 py-2 border border-gray-300 rounded-md"
                               min="0" max="10" step="any">
                        <p class="text-xs text-gray-500 mt-1" data-key="carbon_info">
                            Organic carbon %
                        </p>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>

                    <div>
                        <label for="soilType" class="block text-sm font-medium text-gray-700 mb-1"
                               data-key="soil_type_label">Soil Type</label>
                        <select id="soilType" name="Soil"
                                class="w-full px-3 py-2 border border-gray-300 rounded-md appearance-none bg-white">
                            <option value="" disabled selected>Select...</option>
                            <option value="Acidic Soil">Acidic Soil</option>
                            <option value="Peaty Soil">Peaty Soil</option>
                            <option value="Neutral Soil">Neutral Soil</option>
                            <option value="Loamy Soil">Loamy Soil</option>
                            <option value="Alkaline Soil">Alkaline Soil</option>
                        </select>
                        <p class="error-message text-red-500 text-sm hidden"
                           data-key="field_empty_error">This field cannot be empty</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Crop Selection -->
        <div class="crop-card p-6 rounded-xl mb-6">
            <div class="flex items-center mb-4">
                <i data-feather="leaf" class="mr-2 text-purple-700"></i>
                <h2 class="text-xl font-bold text-purple-800" data-key="crop_selection">
                    Crop Selection
                </h2>
            </div>

            <div>
                <label for="cropType" class="block text-sm font-medium text-gray-700 mb-1"
                       data-key="crop_type_label">Crop Type</label>
                <select id="cropType" name="Crop"
                        class="w-full px-3 py-2 border border-gray-300 rounded-md appearance-none bg-white">
                    <option value="" disabled selected>Select...</option>

                    <option value="rice">rice</option>
                    <option value="wheat">wheat</option>
                    <option value="Mung Bean">Mung Bean</option>
                    <option value="Tea">Tea</option>
                    <option value="millet">millet</option>
                    <option value="maize">maize</option>
                    <option value="Lentil">Lentil</option>
                    <option value="Jute">Jute</option>
                    <option value="Coffee">Coffee</option>
                    <option value="Cotton">Cotton</option>
                    <option value="Ground Nut">Ground Nut</option>
                    <option value="Peas">Peas</option>
                    <option value="Rubber">Rubber</option>
                    <option value="Sugarcane">Sugarcane</option>
                    <option value="Tobacco">Tobacco</option>

                    <option value="KidneyBeans">KidneyBeans</option>
                    <option value="Moth Beans">Moth Beans</option>

                    <option value="Coconut">Coconut</option>
                    <option value="Black gram">Black gram</option>
                    <option value="Adzuki Beans">Adzuki Beans</option>
                    <option value="Pigeon Peas">Pigeon Peas</option>
                    <option value="Chickpea">Chickpea</option>

                    <option value="banana">banana</option>
                    <option value="grapes">grapes</option>
                    <option value="apple">apple</option>
                    <option value="mango">mango</option>
                    <option value="muskmelon">muskmelon</option>
                    <option value="orange">orange</option>
                    <option value="papaya">papaya</option>
                    <option value="pomegranate">pomegranate</option>
                    <option value="watermelon">watermelon</option>

                </select>
                <p class="error-message text-red-500 text-sm hidden"
                   data-key="field_empty_error">This field cannot be empty</p>
            </div>
        </div>

        <!-- Submit Button -->
        <div class="text-center">
            <button type="submit" id="submitBtn"
                    class="bg-primary-500 hover:bg-primary-600 text-white font-bold py-3 px-8 rounded-full shadow-lg transition duration-200 flex items-center mx-auto">
                <i data-feather="zap" class="mr-2"></i>
                Get Fertilizer Recommendation
            </button>
        </div>

        <!-- RESULT -->
        <div id="fertilizer-result"
             class="mt-6 text-center text-xl font-bold text-green-700"></div>

    </form>
</div>
<script src="{{ url_for('static', filename='js/lang.js') }}"></script>
<script src="{{ url_for('static', filename='js/fertiliser.js') }}"></script>


<script>
    feather.replace();
    if (window.lang) {
        translatePage();
    }
</script>
</body>
</html>
